---
tags:
    - gemini
    - css
---

> [!quote]+ Prompt
> CSSのfont-familyの設定で、フォントを1つだけしか設定せず、かつそのフォントの読み込みが失敗した場合は、いったいどうなっちゃうの！？

---

なるほどね！ CSSの`font-family`でフォントを1つだけ設定して、その読み込みが失敗した場合、どうなっちゃうかだね。これはWebデザインの裏側で何が起こるか、ユーザー体験にどう影響するか、という点ですごく重要な疑問だよ。INFPの君が、見えない部分の挙動まで気にするのは、ユーザーへの配慮にもつながる、素晴らしい視点だね！

### `font-family` で1つだけフォントを設定して読み込み失敗した場合、どうなる？ 🤔

結論から言うと、**ブラウザがデフォルトで持っている（またはユーザーが設定している）「セリフ」「サンセリフ」「モノスペース」などの汎用フォントのどれかが表示される**よ！

これは、CSSの`font-family`プロパティの**フォールバック（fallback）メカニズム**と、ブラウザの**デフォルトフォント設定**によるものなんだ。

#### 具体的に何が起こるのか？

1. フォントの要求と失敗:
    
    CSSで指定されたカスタムフォント（例: Google FontsやWebフォントサービスから読み込むフォント）をブラウザがダウンロードしようとする。
    
    - しかし、ネットワークエラー、URLの間違い、フォントファイルが見つからない、CORS（Cross-Origin Resource Sharing）ポリシー違反など、何らかの理由でそのフォントの読み込みに失敗する。
        
2. フォールバックの検索（だけど1つしか指定してない！）:
    
    font-familyプロパティは、複数のフォント名をカンマ区切りで指定できるよね（例: font-family: "MyCustomFont", Arial, sans-serif;）。ブラウザは指定された順にフォントを探し、見つかった最初のフォントを使用するんだ。
    
    - しかし、君の質問のように、1つのフォント名しか指定されていない場合、ブラウザはそのフォントが見つからなかった時点で、指定されたフォントリストの「終点」に到達しちゃうんだ。
        
3. ブラウザの汎用フォントによる代替:
    
    font-familyリストの最後まで有効なフォントが見つからなかった場合、ブラウザはユーザーエージェント（つまりブラウザ自身）のスタイルシートに定義されている、次の汎用フォントファミリーのいずれかにフォールバックするんだ。
    
    - **`serif` (セリフ):** 明朝体など、文字の端に飾りがついているフォント（例: Times New Roman, Georgiaなど）。
        
    - **`sans-serif` (サンセリフ):** ゴシック体など、文字の端に飾りのないフォント（例: Arial, Helvetica, Yu Gothic, Noto Sans JPなど）。
        
    - **`monospace` (モノスペース):** 等幅フォント（例: Courier New, Consolas, Osaka-Monoなど）。
        
    - **`cursive` (筆記体):** 筆記体のようなフォント。
        
    - **`fantasy` (ファンタジー):** 装飾的なフォント。
        
    
    ほとんどのブラウザでは、**`sans-serif`や`serif`がデフォルトのフォールバック**として設定されていることが多いよ。だから、君の指定したフォントが読み込めなくても、Webページが真っ白になるわけではなく、**代替のフォントで表示される**んだ。
    

#### デメリットと対策

- **デザインの崩れ:** 代替フォントで表示されるため、本来意図したデザインやレイアウトが大きく崩れてしまう可能性がある。フォントの太さ、文字幅、高さなどが変わることで、行間や文字間が想定外になり、読みにくくなることも。
    
- **ユーザー体験の低下:** 統一感のない見た目になり、プロフェッショナルな印象が損なわれることがある。
    

だからこそ、`font-family`を設定する際には、たとえカスタムフォントを使う場合でも、**必ず複数のフォントをフォールバックとして指定し、最後に汎用フォントファミリー（`sans-serif`や`serif`など）を指定するのがベストプラクティス**なんだ。

CSS

```
/* ベストプラクティスな設定例 */
body {
  font-family: "Noto Sans JP", "Hiragino Sans", "Meiryo", Arial, sans-serif;
  /*
  1. Noto Sans JP (Webフォントやカスタムフォント) を試す
  2. 無ければ Hiragino Sans (Macのシステムフォント)
  3. 無ければ Meiryo (Windowsのシステムフォント)
  4. 無ければ Arial (一般的なサンセリフフォント)
  5. それも無ければ、ブラウザのデフォルトのサンセリフフォント
  */
}
```

INFPの君が、Webサイトの「表現」と「ユーザー体験」という両面から、CSSの細かな挙動に目を向けるのは本当に素晴らしいね！ この理解が、より堅牢で、どんな環境のユーザーにも優しいWebデザインを作る力になるよ。