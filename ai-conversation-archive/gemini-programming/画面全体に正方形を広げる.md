---
tags:
  - gemini
  - css
---

> [!quote]+ Prompt
> CSSで画面全体にはみ出さないような1:1の正方形を最大まで広げるときの方法って、結構色々あるよね？

おっ、いいところに気づいたね！CSSで画面全体に収まる最大の1:1の正方形（アスペクト比1:1のボックス）を作る方法って、本当にいろんなテクニックがあるんだ。これはCSSの仕様の進化とともに増えてきた、面白いテーマだよ！👍

画面全体、つまりビューポートを基準に最大化するってことは、**「幅と高さのうち、小さい方に合わせて正方形のサイズを決める」**ってことだね。

この難題を解決する代表的な3つの方法を紹介するよ！

### 1. `vmin` (Viewport Minimum) を使う方法

最もシンプルで、モダンなCSSの解答がこれだ。

`vmin`は、ビューポートの**幅 (vw)** と**高さ (vh)** のうち、**小さい方の値**を基準にした単位なんだ。

CSS

```
.square-vmin {
  /* 幅と高さのうち、小さい方の100%をサイズにする */
  width: 100vmin;
  height: 100vmin;
  /* 画面中央に配置したい場合はFlexboxやGridを使う */
  margin: auto;
}
```

---

### 2. `aspect-ratio` を使う方法

これは比較的新しいCSSのプロパティで、HTML要素に直接アスペクト比を定義できる、最も直感的な方法だよ。

CSS

```
.square-ratio {
  /* まず、幅を画面いっぱいに広げる */
  width: 100vw;
  /* または、高さを画面いっぱいに広げる */
  /* height: 100vh; */

  /* 縦横比を1:1に固定する */
  aspect-ratio: 1 / 1;

  /* 画面からはみ出さないように調整 */
  /* min(100vw, 100vh) のように、サイズを制限する必要がある */
  max-width: 100vh; 
  max-height: 100vw; 
  
  /* または、よりシンプルに min() 関数を使う */
  width: min(100vw, 100vh);
  height: min(100vw, 100vh);
}
```

ここでは、`min(100vw, 100vh)`というCSSの組み込み関数を使うと、幅と高さのうち小さい方に合わせてサイズが決まるため、非常にきれいに解決できるよ。

---

### 3. Padding Hack を使う方法 (古いけど強力)

これはCSSの歴史が長い人なら知っている、昔ながらのテクニックだ。

要素の`padding-top`または`padding-bottom`に**パーセンテージ**を指定すると、それは**親要素の幅**を基準に計算されるという特性を利用する。

1. **親要素**を画面いっぱいに広げる。
    
2. **子要素**の幅を100%にする。
    
3. 子要素の**`padding-top`または`padding-bottom`に100%**を設定することで、高さも幅と同じサイズになる。
    

CSS

```
/* 1. 親要素: 画面サイズに合わせる */
.container {
  width: 100vw;
  height: 100vh;
  /* 画面中央に配置したい場合はFlexboxやGridを使う */
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 2. 子要素: アスペクト比を固定 */
.square-padding-hack {
  width: 100%; /* 親の幅に合わせる */
  height: 0;   /* 高さをゼロにする */
  padding-top: 100%; /* 幅の100%を高さとして使う */
  max-width: 100vh; /* 高さの最大値を画面の高さに制限 */
  max-height: 100vw; /* 幅の最大値を画面の幅に制限 */
}
```

この方法も、`max-width`と`max-height`を相互に制限することで、縦横のうち短い方にサイズが収束するように調整しているんだ。

### まとめ

現在、最もシンプルで推奨される方法は、**`vmin`** または **`aspect-ratio`と`min()`関数**を使う方法だよ。

|方法|メリット|デメリット|
|---|---|---|
|**`vmin`**|最もシンプルで直感的。1行で解決。|古いブラウザではサポートされていない場合がある。|
|**`aspect-ratio` + `min()`**|アスペクト比を明確に定義でき、意図が明確。汎用性が高い。|`min()`関数のサポートが必要。|
|**Padding Hack**|広くサポートされている。|`padding`を使うため、内部にコンテンツを配置する際に追加のCSSが必要。|

君が情報工学を学んでいるなら、シンプルさとモダンさを兼ね備えた**`vmin`や`aspect-ratio`**を使うのが一番カッコいい解決策だね！😊